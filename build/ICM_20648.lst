ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"ICM_20648.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.read_byte,"ax",%progbits
  20              		.align	1
  21              		.global	read_byte
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	read_byte:
  27              	.LVL0:
  28              	.LFB219:
  29              		.file 1 "Core/Src/ICM_20648.c"
   1:Core/Src/ICM_20648.c **** /*
   2:Core/Src/ICM_20648.c ****  * ICM20648.c
   3:Core/Src/ICM_20648.c ****  *
   4:Core/Src/ICM_20648.c ****  *  Created on: 2021/06/25
   5:Core/Src/ICM_20648.c ****  *      Author: under
   6:Core/Src/ICM_20648.c ****  */
   7:Core/Src/ICM_20648.c **** #include "ICM_20648.h"
   8:Core/Src/ICM_20648.c **** #include<stdio.h>
   9:Core/Src/ICM_20648.c **** 
  10:Core/Src/ICM_20648.c **** volatile int16_t xa, ya, za; // 加速度(16bitデータ)
  11:Core/Src/ICM_20648.c **** volatile int16_t xg, yg, zg;	// 角加速度(16bitデータ)
  12:Core/Src/ICM_20648.c **** 
  13:Core/Src/ICM_20648.c **** uint8_t read_byte( uint8_t reg ) {
  30              		.loc 1 13 34 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 8
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 13 34 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 83B0     		sub	sp, sp, #12
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 24
  14:Core/Src/ICM_20648.c **** 	uint8_t ret,val;
  44              		.loc 1 14 2 is_stmt 1 view .LVU2
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 2


  15:Core/Src/ICM_20648.c **** 
  16:Core/Src/ICM_20648.c **** 	ret = reg | 0x80;
  45              		.loc 1 16 2 view .LVU3
  46              		.loc 1 16 6 is_stmt 0 view .LVU4
  47 0004 60F07F00 		orn	r0, r0, #127
  48              	.LVL1:
  49              		.loc 1 16 6 view .LVU5
  50 0008 8DF80700 		strb	r0, [sp, #7]
  17:Core/Src/ICM_20648.c **** 	CS_RESET;
  51              		.loc 1 17 2 is_stmt 1 view .LVU6
  52 000c 0E4C     		ldr	r4, .L3
  53 000e 0022     		movs	r2, #0
  54 0010 0121     		movs	r1, #1
  55 0012 2046     		mov	r0, r4
  56 0014 FFF7FEFF 		bl	HAL_GPIO_WritePin
  57              	.LVL2:
  18:Core/Src/ICM_20648.c **** 	HAL_SPI_Transmit(&hspi2,&ret,1,100);
  58              		.loc 1 18 2 view .LVU7
  59 0018 0C4D     		ldr	r5, .L3+4
  60 001a 6423     		movs	r3, #100
  61 001c 0122     		movs	r2, #1
  62 001e 0DF10701 		add	r1, sp, #7
  63 0022 2846     		mov	r0, r5
  64 0024 FFF7FEFF 		bl	HAL_SPI_Transmit
  65              	.LVL3:
  19:Core/Src/ICM_20648.c **** 	HAL_SPI_Receive(&hspi2,&val,1,100);
  66              		.loc 1 19 2 view .LVU8
  67 0028 6423     		movs	r3, #100
  68 002a 0122     		movs	r2, #1
  69 002c 0DF10601 		add	r1, sp, #6
  70 0030 2846     		mov	r0, r5
  71 0032 FFF7FEFF 		bl	HAL_SPI_Receive
  72              	.LVL4:
  20:Core/Src/ICM_20648.c **** 	CS_SET;
  73              		.loc 1 20 2 view .LVU9
  74 0036 0122     		movs	r2, #1
  75 0038 1146     		mov	r1, r2
  76 003a 2046     		mov	r0, r4
  77 003c FFF7FEFF 		bl	HAL_GPIO_WritePin
  78              	.LVL5:
  21:Core/Src/ICM_20648.c **** 
  22:Core/Src/ICM_20648.c **** 	return val;
  79              		.loc 1 22 2 view .LVU10
  23:Core/Src/ICM_20648.c **** }
  80              		.loc 1 23 1 is_stmt 0 view .LVU11
  81 0040 9DF80600 		ldrb	r0, [sp, #6]	@ zero_extendqisi2
  82 0044 03B0     		add	sp, sp, #12
  83              	.LCFI2:
  84              		.cfi_def_cfa_offset 12
  85              		@ sp needed
  86 0046 30BD     		pop	{r4, r5, pc}
  87              	.L4:
  88              		.align	2
  89              	.L3:
  90 0048 00040240 		.word	1073873920
  91 004c 00000000 		.word	hspi2
  92              		.cfi_endproc
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 3


  93              	.LFE219:
  95              		.section	.text.write_byte,"ax",%progbits
  96              		.align	1
  97              		.global	write_byte
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 102              	write_byte:
 103              	.LVL6:
 104              	.LFB220:
  24:Core/Src/ICM_20648.c **** 
  25:Core/Src/ICM_20648.c **** void write_byte( uint8_t reg, uint8_t val )  {
 105              		.loc 1 25 46 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 16
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              		.loc 1 25 46 is_stmt 0 view .LVU13
 110 0000 30B5     		push	{r4, r5, lr}
 111              	.LCFI3:
 112              		.cfi_def_cfa_offset 12
 113              		.cfi_offset 4, -12
 114              		.cfi_offset 5, -8
 115              		.cfi_offset 14, -4
 116 0002 85B0     		sub	sp, sp, #20
 117              	.LCFI4:
 118              		.cfi_def_cfa_offset 32
 119 0004 8DF80710 		strb	r1, [sp, #7]
  26:Core/Src/ICM_20648.c **** 	uint8_t ret;
 120              		.loc 1 26 2 is_stmt 1 view .LVU14
  27:Core/Src/ICM_20648.c **** 
  28:Core/Src/ICM_20648.c **** 	ret = reg & 0x7F;
 121              		.loc 1 28 2 view .LVU15
 122              		.loc 1 28 12 is_stmt 0 view .LVU16
 123 0008 00F07F00 		and	r0, r0, #127
 124              	.LVL7:
 125              		.loc 1 28 6 view .LVU17
 126 000c 8DF80F00 		strb	r0, [sp, #15]
  29:Core/Src/ICM_20648.c **** 	CS_RESET;
 127              		.loc 1 29 2 is_stmt 1 view .LVU18
 128 0010 0D4C     		ldr	r4, .L7
 129 0012 0022     		movs	r2, #0
 130 0014 0121     		movs	r1, #1
 131              	.LVL8:
 132              		.loc 1 29 2 is_stmt 0 view .LVU19
 133 0016 2046     		mov	r0, r4
 134 0018 FFF7FEFF 		bl	HAL_GPIO_WritePin
 135              	.LVL9:
  30:Core/Src/ICM_20648.c **** 	HAL_SPI_Transmit(&hspi2,&ret,1,100);
 136              		.loc 1 30 2 is_stmt 1 view .LVU20
 137 001c 0B4D     		ldr	r5, .L7+4
 138 001e 6423     		movs	r3, #100
 139 0020 0122     		movs	r2, #1
 140 0022 0DF10F01 		add	r1, sp, #15
 141 0026 2846     		mov	r0, r5
 142 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 143              	.LVL10:
  31:Core/Src/ICM_20648.c **** 	HAL_SPI_Transmit(&hspi2,&val,1,100);
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 4


 144              		.loc 1 31 2 view .LVU21
 145 002c 6423     		movs	r3, #100
 146 002e 0122     		movs	r2, #1
 147 0030 0DF10701 		add	r1, sp, #7
 148 0034 2846     		mov	r0, r5
 149 0036 FFF7FEFF 		bl	HAL_SPI_Transmit
 150              	.LVL11:
  32:Core/Src/ICM_20648.c **** 	CS_SET;
 151              		.loc 1 32 2 view .LVU22
 152 003a 0122     		movs	r2, #1
 153 003c 1146     		mov	r1, r2
 154 003e 2046     		mov	r0, r4
 155 0040 FFF7FEFF 		bl	HAL_GPIO_WritePin
 156              	.LVL12:
  33:Core/Src/ICM_20648.c **** }
 157              		.loc 1 33 1 is_stmt 0 view .LVU23
 158 0044 05B0     		add	sp, sp, #20
 159              	.LCFI5:
 160              		.cfi_def_cfa_offset 12
 161              		@ sp needed
 162 0046 30BD     		pop	{r4, r5, pc}
 163              	.L8:
 164              		.align	2
 165              	.L7:
 166 0048 00040240 		.word	1073873920
 167 004c 00000000 		.word	hspi2
 168              		.cfi_endproc
 169              	.LFE220:
 171              		.section	.rodata.IMU_init.str1.4,"aMS",%progbits,1
 172              		.align	2
 173              	.LC0:
 174 0000 25780D0A 		.ascii	"%x\015\012\000"
 174      00
 175              		.section	.text.IMU_init,"ax",%progbits
 176              		.align	1
 177              		.global	IMU_init
 178              		.syntax unified
 179              		.thumb
 180              		.thumb_func
 182              	IMU_init:
 183              	.LFB221:
  34:Core/Src/ICM_20648.c **** 
  35:Core/Src/ICM_20648.c **** uint16_t IMU_init() {
 184              		.loc 1 35 21 is_stmt 1 view -0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188 0000 10B5     		push	{r4, lr}
 189              	.LCFI6:
 190              		.cfi_def_cfa_offset 8
 191              		.cfi_offset 4, -8
 192              		.cfi_offset 14, -4
  36:Core/Src/ICM_20648.c **** 	uint8_t who_am_i;
 193              		.loc 1 36 2 view .LVU25
  37:Core/Src/ICM_20648.c **** 	uint16_t ret = 0;
 194              		.loc 1 37 2 view .LVU26
 195              	.LVL13:
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 5


  38:Core/Src/ICM_20648.c **** 
  39:Core/Src/ICM_20648.c **** 	who_am_i = read_byte(0x00);	//IMU動作確認　0xE0が送られてくればおｋ
 196              		.loc 1 39 2 view .LVU27
 197              		.loc 1 39 13 is_stmt 0 view .LVU28
 198 0002 0020     		movs	r0, #0
 199 0004 FFF7FEFF 		bl	read_byte
 200              	.LVL14:
 201 0008 0446     		mov	r4, r0
 202              	.LVL15:
  40:Core/Src/ICM_20648.c **** 	printf("%x\r\n",who_am_i);
 203              		.loc 1 40 2 is_stmt 1 view .LVU29
 204 000a 0146     		mov	r1, r0
 205 000c 1048     		ldr	r0, .L14
 206              	.LVL16:
 207              		.loc 1 40 2 is_stmt 0 view .LVU30
 208 000e FFF7FEFF 		bl	printf
 209              	.LVL17:
  41:Core/Src/ICM_20648.c **** 	if ( who_am_i == 0xE0 ) {
 210              		.loc 1 41 2 is_stmt 1 view .LVU31
 211              		.loc 1 41 5 is_stmt 0 view .LVU32
 212 0012 E02C     		cmp	r4, #224
 213 0014 01D0     		beq	.L13
  37:Core/Src/ICM_20648.c **** 
 214              		.loc 1 37 11 view .LVU33
 215 0016 0020     		movs	r0, #0
 216              	.LVL18:
 217              	.L10:
  42:Core/Src/ICM_20648.c **** 		ret = 1;
  43:Core/Src/ICM_20648.c **** 		write_byte(0x06,0x01);	//PWR_MGMT_1	スリープﾓｰﾄﾞ解除
  44:Core/Src/ICM_20648.c **** 		write_byte(0x03,0x10);	//USER_CTRL	諸々機能無効　SPIonly
  45:Core/Src/ICM_20648.c **** 		write_byte(0x7F,0x20);	//USER_BANK2
  46:Core/Src/ICM_20648.c **** 		write_byte(0x01,0x06);	//レンジ±2000dps
  47:Core/Src/ICM_20648.c **** 		//2:1 GYRO_FS_SEL[1:0] 00:±250	01:±500 10:±1000 11:±2000
  48:Core/Src/ICM_20648.c **** 		write_byte(0x14,0x02);	//レンジ±4g
  49:Core/Src/ICM_20648.c **** 		//2:1 ACCEL_FS_SEL[1:0] 00:±2	01:±4 10:±8 11:±16
  50:Core/Src/ICM_20648.c **** 		write_byte(0x7F,0x00);	//USER_BANK0
  51:Core/Src/ICM_20648.c **** 	}
  52:Core/Src/ICM_20648.c **** 	return ret;
 218              		.loc 1 52 2 is_stmt 1 view .LVU34
  53:Core/Src/ICM_20648.c **** }
 219              		.loc 1 53 1 is_stmt 0 view .LVU35
 220 0018 10BD     		pop	{r4, pc}
 221              	.LVL19:
 222              	.L13:
  42:Core/Src/ICM_20648.c **** 		ret = 1;
 223              		.loc 1 42 3 is_stmt 1 view .LVU36
  43:Core/Src/ICM_20648.c **** 		write_byte(0x03,0x10);	//USER_CTRL	諸々機能無効　SPIonly
 224              		.loc 1 43 3 view .LVU37
 225 001a 0121     		movs	r1, #1
 226 001c 0620     		movs	r0, #6
 227 001e FFF7FEFF 		bl	write_byte
 228              	.LVL20:
  44:Core/Src/ICM_20648.c **** 		write_byte(0x7F,0x20);	//USER_BANK2
 229              		.loc 1 44 3 view .LVU38
 230 0022 1021     		movs	r1, #16
 231 0024 0320     		movs	r0, #3
 232 0026 FFF7FEFF 		bl	write_byte
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 6


 233              	.LVL21:
  45:Core/Src/ICM_20648.c **** 		write_byte(0x01,0x06);	//レンジ±2000dps
 234              		.loc 1 45 3 view .LVU39
 235 002a 2021     		movs	r1, #32
 236 002c 7F20     		movs	r0, #127
 237 002e FFF7FEFF 		bl	write_byte
 238              	.LVL22:
  46:Core/Src/ICM_20648.c **** 		//2:1 GYRO_FS_SEL[1:0] 00:±250	01:±500 10:±1000 11:±2000
 239              		.loc 1 46 3 view .LVU40
 240 0032 0621     		movs	r1, #6
 241 0034 0120     		movs	r0, #1
 242 0036 FFF7FEFF 		bl	write_byte
 243              	.LVL23:
  48:Core/Src/ICM_20648.c **** 		//2:1 ACCEL_FS_SEL[1:0] 00:±2	01:±4 10:±8 11:±16
 244              		.loc 1 48 3 view .LVU41
 245 003a 0221     		movs	r1, #2
 246 003c 1420     		movs	r0, #20
 247 003e FFF7FEFF 		bl	write_byte
 248              	.LVL24:
  50:Core/Src/ICM_20648.c **** 	}
 249              		.loc 1 50 3 view .LVU42
 250 0042 0021     		movs	r1, #0
 251 0044 7F20     		movs	r0, #127
 252 0046 FFF7FEFF 		bl	write_byte
 253              	.LVL25:
  42:Core/Src/ICM_20648.c **** 		write_byte(0x06,0x01);	//PWR_MGMT_1	スリープﾓｰﾄﾞ解除
 254              		.loc 1 42 7 is_stmt 0 view .LVU43
 255 004a 0120     		movs	r0, #1
 256 004c E4E7     		b	.L10
 257              	.L15:
 258 004e 00BF     		.align	2
 259              	.L14:
 260 0050 00000000 		.word	.LC0
 261              		.cfi_endproc
 262              	.LFE221:
 264              		.section	.text.read_gyro_data,"ax",%progbits
 265              		.align	1
 266              		.global	read_gyro_data
 267              		.syntax unified
 268              		.thumb
 269              		.thumb_func
 271              	read_gyro_data:
 272              	.LFB222:
  54:Core/Src/ICM_20648.c **** 
  55:Core/Src/ICM_20648.c **** void read_gyro_data() {
 273              		.loc 1 55 23 is_stmt 1 view -0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 277 0000 10B5     		push	{r4, lr}
 278              	.LCFI7:
 279              		.cfi_def_cfa_offset 8
 280              		.cfi_offset 4, -8
 281              		.cfi_offset 14, -4
  56:Core/Src/ICM_20648.c **** 	xg = ((uint16_t)read_byte(0x33) << 8) | ((uint16_t)read_byte(0x34));
 282              		.loc 1 56 2 view .LVU45
 283              		.loc 1 56 18 is_stmt 0 view .LVU46
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 7


 284 0002 3320     		movs	r0, #51
 285 0004 FFF7FEFF 		bl	read_byte
 286              	.LVL26:
 287              		.loc 1 56 34 view .LVU47
 288 0008 0402     		lsls	r4, r0, #8
 289              		.loc 1 56 53 view .LVU48
 290 000a 3420     		movs	r0, #52
 291 000c FFF7FEFF 		bl	read_byte
 292              	.LVL27:
 293 0010 00B2     		sxth	r0, r0
 294              		.loc 1 56 40 view .LVU49
 295 0012 2043     		orrs	r0, r0, r4
 296 0014 00B2     		sxth	r0, r0
 297              		.loc 1 56 5 view .LVU50
 298 0016 0D4B     		ldr	r3, .L18
 299 0018 1880     		strh	r0, [r3]	@ movhi
  57:Core/Src/ICM_20648.c **** 	yg = ((uint16_t)read_byte(0x35) << 8) | ((uint16_t)read_byte(0x36));
 300              		.loc 1 57 2 is_stmt 1 view .LVU51
 301              		.loc 1 57 18 is_stmt 0 view .LVU52
 302 001a 3520     		movs	r0, #53
 303 001c FFF7FEFF 		bl	read_byte
 304              	.LVL28:
 305              		.loc 1 57 34 view .LVU53
 306 0020 0402     		lsls	r4, r0, #8
 307              		.loc 1 57 53 view .LVU54
 308 0022 3620     		movs	r0, #54
 309 0024 FFF7FEFF 		bl	read_byte
 310              	.LVL29:
 311 0028 00B2     		sxth	r0, r0
 312              		.loc 1 57 40 view .LVU55
 313 002a 2043     		orrs	r0, r0, r4
 314 002c 00B2     		sxth	r0, r0
 315              		.loc 1 57 5 view .LVU56
 316 002e 084B     		ldr	r3, .L18+4
 317 0030 1880     		strh	r0, [r3]	@ movhi
  58:Core/Src/ICM_20648.c **** 	zg = ((uint16_t)read_byte(0x37) << 8) | ((uint16_t)read_byte(0x38));
 318              		.loc 1 58 2 is_stmt 1 view .LVU57
 319              		.loc 1 58 18 is_stmt 0 view .LVU58
 320 0032 3720     		movs	r0, #55
 321 0034 FFF7FEFF 		bl	read_byte
 322              	.LVL30:
 323              		.loc 1 58 34 view .LVU59
 324 0038 0402     		lsls	r4, r0, #8
 325              		.loc 1 58 53 view .LVU60
 326 003a 3820     		movs	r0, #56
 327 003c FFF7FEFF 		bl	read_byte
 328              	.LVL31:
 329 0040 00B2     		sxth	r0, r0
 330              		.loc 1 58 40 view .LVU61
 331 0042 2043     		orrs	r0, r0, r4
 332 0044 00B2     		sxth	r0, r0
 333              		.loc 1 58 5 view .LVU62
 334 0046 034B     		ldr	r3, .L18+8
 335 0048 1880     		strh	r0, [r3]	@ movhi
  59:Core/Src/ICM_20648.c **** }
 336              		.loc 1 59 1 view .LVU63
 337 004a 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 8


 338              	.L19:
 339              		.align	2
 340              	.L18:
 341 004c 00000000 		.word	.LANCHOR0
 342 0050 00000000 		.word	.LANCHOR1
 343 0054 00000000 		.word	.LANCHOR2
 344              		.cfi_endproc
 345              	.LFE222:
 347              		.section	.text.read_accel_data,"ax",%progbits
 348              		.align	1
 349              		.global	read_accel_data
 350              		.syntax unified
 351              		.thumb
 352              		.thumb_func
 354              	read_accel_data:
 355              	.LFB223:
  60:Core/Src/ICM_20648.c **** 
  61:Core/Src/ICM_20648.c **** void read_accel_data() {
 356              		.loc 1 61 24 is_stmt 1 view -0
 357              		.cfi_startproc
 358              		@ args = 0, pretend = 0, frame = 0
 359              		@ frame_needed = 0, uses_anonymous_args = 0
 360 0000 10B5     		push	{r4, lr}
 361              	.LCFI8:
 362              		.cfi_def_cfa_offset 8
 363              		.cfi_offset 4, -8
 364              		.cfi_offset 14, -4
  62:Core/Src/ICM_20648.c **** 	xa = ((uint16_t)read_byte(0x2D) << 8) | ((uint16_t)read_byte(0x2E));
 365              		.loc 1 62 2 view .LVU65
 366              		.loc 1 62 18 is_stmt 0 view .LVU66
 367 0002 2D20     		movs	r0, #45
 368 0004 FFF7FEFF 		bl	read_byte
 369              	.LVL32:
 370              		.loc 1 62 34 view .LVU67
 371 0008 0402     		lsls	r4, r0, #8
 372              		.loc 1 62 53 view .LVU68
 373 000a 2E20     		movs	r0, #46
 374 000c FFF7FEFF 		bl	read_byte
 375              	.LVL33:
 376 0010 00B2     		sxth	r0, r0
 377              		.loc 1 62 40 view .LVU69
 378 0012 2043     		orrs	r0, r0, r4
 379 0014 00B2     		sxth	r0, r0
 380              		.loc 1 62 5 view .LVU70
 381 0016 0D4B     		ldr	r3, .L22
 382 0018 1880     		strh	r0, [r3]	@ movhi
  63:Core/Src/ICM_20648.c **** 	ya = ((uint16_t)read_byte(0x2F) << 8) | ((uint16_t)read_byte(0x30));
 383              		.loc 1 63 2 is_stmt 1 view .LVU71
 384              		.loc 1 63 18 is_stmt 0 view .LVU72
 385 001a 2F20     		movs	r0, #47
 386 001c FFF7FEFF 		bl	read_byte
 387              	.LVL34:
 388              		.loc 1 63 34 view .LVU73
 389 0020 0402     		lsls	r4, r0, #8
 390              		.loc 1 63 53 view .LVU74
 391 0022 3020     		movs	r0, #48
 392 0024 FFF7FEFF 		bl	read_byte
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 9


 393              	.LVL35:
 394 0028 00B2     		sxth	r0, r0
 395              		.loc 1 63 40 view .LVU75
 396 002a 2043     		orrs	r0, r0, r4
 397 002c 00B2     		sxth	r0, r0
 398              		.loc 1 63 5 view .LVU76
 399 002e 084B     		ldr	r3, .L22+4
 400 0030 1880     		strh	r0, [r3]	@ movhi
  64:Core/Src/ICM_20648.c **** 	za = ((uint16_t)read_byte(0x31) << 8) | ((uint16_t)read_byte(0x32));
 401              		.loc 1 64 2 is_stmt 1 view .LVU77
 402              		.loc 1 64 18 is_stmt 0 view .LVU78
 403 0032 3120     		movs	r0, #49
 404 0034 FFF7FEFF 		bl	read_byte
 405              	.LVL36:
 406              		.loc 1 64 34 view .LVU79
 407 0038 0402     		lsls	r4, r0, #8
 408              		.loc 1 64 53 view .LVU80
 409 003a 3220     		movs	r0, #50
 410 003c FFF7FEFF 		bl	read_byte
 411              	.LVL37:
 412 0040 00B2     		sxth	r0, r0
 413              		.loc 1 64 40 view .LVU81
 414 0042 2043     		orrs	r0, r0, r4
 415 0044 00B2     		sxth	r0, r0
 416              		.loc 1 64 5 view .LVU82
 417 0046 034B     		ldr	r3, .L22+8
 418 0048 1880     		strh	r0, [r3]	@ movhi
  65:Core/Src/ICM_20648.c **** }
 419              		.loc 1 65 1 view .LVU83
 420 004a 10BD     		pop	{r4, pc}
 421              	.L23:
 422              		.align	2
 423              	.L22:
 424 004c 00000000 		.word	.LANCHOR3
 425 0050 00000000 		.word	.LANCHOR4
 426 0054 00000000 		.word	.LANCHOR5
 427              		.cfi_endproc
 428              	.LFE223:
 430              		.global	zg
 431              		.global	yg
 432              		.global	xg
 433              		.global	za
 434              		.global	ya
 435              		.global	xa
 436              		.section	.bss.xa,"aw",%nobits
 437              		.align	1
 438              		.set	.LANCHOR3,. + 0
 441              	xa:
 442 0000 0000     		.space	2
 443              		.section	.bss.xg,"aw",%nobits
 444              		.align	1
 445              		.set	.LANCHOR0,. + 0
 448              	xg:
 449 0000 0000     		.space	2
 450              		.section	.bss.ya,"aw",%nobits
 451              		.align	1
 452              		.set	.LANCHOR4,. + 0
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 10


 455              	ya:
 456 0000 0000     		.space	2
 457              		.section	.bss.yg,"aw",%nobits
 458              		.align	1
 459              		.set	.LANCHOR1,. + 0
 462              	yg:
 463 0000 0000     		.space	2
 464              		.section	.bss.za,"aw",%nobits
 465              		.align	1
 466              		.set	.LANCHOR5,. + 0
 469              	za:
 470 0000 0000     		.space	2
 471              		.section	.bss.zg,"aw",%nobits
 472              		.align	1
 473              		.set	.LANCHOR2,. + 0
 476              	zg:
 477 0000 0000     		.space	2
 478              		.text
 479              	.Letext0:
 480              		.file 2 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_type
 481              		.file 3 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 482              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f412cx.h"
 483              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 484              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 485              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 486              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 487              		.file 9 "Core/Inc/ICM_20648.h"
 488              		.file 10 "Core/Inc/spi.h"
 489              		.file 11 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\stdio.h"
ARM GAS  C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 ICM_20648.c
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:20     .text.read_byte:00000000 $t
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:26     .text.read_byte:00000000 read_byte
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:90     .text.read_byte:00000048 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:96     .text.write_byte:00000000 $t
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:102    .text.write_byte:00000000 write_byte
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:166    .text.write_byte:00000048 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:172    .rodata.IMU_init.str1.4:00000000 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:176    .text.IMU_init:00000000 $t
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:182    .text.IMU_init:00000000 IMU_init
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:260    .text.IMU_init:00000050 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:265    .text.read_gyro_data:00000000 $t
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:271    .text.read_gyro_data:00000000 read_gyro_data
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:341    .text.read_gyro_data:0000004c $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:348    .text.read_accel_data:00000000 $t
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:354    .text.read_accel_data:00000000 read_accel_data
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:424    .text.read_accel_data:0000004c $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:476    .bss.zg:00000000 zg
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:462    .bss.yg:00000000 yg
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:448    .bss.xg:00000000 xg
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:469    .bss.za:00000000 za
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:455    .bss.ya:00000000 ya
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:441    .bss.xa:00000000 xa
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:437    .bss.xa:00000000 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:444    .bss.xg:00000000 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:451    .bss.ya:00000000 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:458    .bss.yg:00000000 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:465    .bss.za:00000000 $d
C:\Users\neko2\AppData\Local\Temp\cc2jQWPB.s:472    .bss.zg:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
HAL_SPI_Transmit
HAL_SPI_Receive
hspi2
printf
