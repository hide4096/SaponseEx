ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"system.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.rodata.DoPanic.str1.4,"aMS",%progbits,1
  20              		.align	2
  21              	.LC0:
  22 0000 536F6979 		.ascii	"Soiya!!\015\000"
  22      6121210D 
  22      00
  23              		.section	.text.DoPanic,"ax",%progbits
  24              		.align	1
  25              		.global	DoPanic
  26              		.syntax unified
  27              		.thumb
  28              		.thumb_func
  30              	DoPanic:
  31              	.LFB252:
  32              		.file 1 "Main/Src/system.c"
   1:Main/Src/system.c **** /* 
   2:Main/Src/system.c **** ###############################
   3:Main/Src/system.c ****     System Interrupt & Init
   4:Main/Src/system.c **** ###############################
   5:Main/Src/system.c **** */
   6:Main/Src/system.c **** #include"system.h"
   7:Main/Src/system.c **** 
   8:Main/Src/system.c **** extern TIM_HandleTypeDef htim6;
   9:Main/Src/system.c **** extern SPI_HandleTypeDef hspi1;
  10:Main/Src/system.c **** extern SPI_HandleTypeDef hspi2;
  11:Main/Src/system.c **** extern ADC_HandleTypeDef hadc1;
  12:Main/Src/system.c **** extern AS5047P_Instance encR;
  13:Main/Src/system.c **** extern AS5047P_Instance encL;
  14:Main/Src/system.c **** 
  15:Main/Src/system.c **** extern uint8_t motpower;
  16:Main/Src/system.c **** extern float r_yaw_ref;
  17:Main/Src/system.c **** 
  18:Main/Src/system.c **** static uint8_t mode = 0;
  19:Main/Src/system.c **** 
  20:Main/Src/system.c **** void DoPanic(){
  33              		.loc 1 20 15 view -0
  34              		.cfi_startproc
  35              		@ Volatile: function does not return.
  36              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 2


  37              		@ frame_needed = 0, uses_anonymous_args = 0
  38 0000 08B5     		push	{r3, lr}
  39              	.LCFI0:
  40              		.cfi_def_cfa_offset 8
  41              		.cfi_offset 3, -8
  42              		.cfi_offset 14, -4
  21:Main/Src/system.c ****   SetDutyRatio(0,0);
  43              		.loc 1 21 3 view .LVU1
  44 0002 0021     		movs	r1, #0
  45 0004 0846     		mov	r0, r1
  46 0006 FFF7FEFF 		bl	SetDutyRatio
  47              	.LVL0:
  22:Main/Src/system.c ****   motpower = 0;
  48              		.loc 1 22 3 view .LVU2
  49              		.loc 1 22 12 is_stmt 0 view .LVU3
  50 000a 0024     		movs	r4, #0
  51 000c 0B4B     		ldr	r3, .L4
  52 000e 1C70     		strb	r4, [r3]
  23:Main/Src/system.c ****   HAL_TIM_Base_Stop_IT(&htim6);
  53              		.loc 1 23 3 is_stmt 1 view .LVU4
  54 0010 0B48     		ldr	r0, .L4+4
  55 0012 FFF7FEFF 		bl	HAL_TIM_Base_Stop_IT
  56              	.LVL1:
  24:Main/Src/system.c ****   HAL_GPIO_WritePin(GPIOB,GPIO_PIN_4,0);
  57              		.loc 1 24 3 view .LVU5
  58 0016 0B4D     		ldr	r5, .L4+8
  59 0018 2246     		mov	r2, r4
  60 001a 1021     		movs	r1, #16
  61 001c 2846     		mov	r0, r5
  62 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
  63              	.LVL2:
  25:Main/Src/system.c ****   HAL_GPIO_WritePin(GPIOB,GPIO_PIN_5,0);
  64              		.loc 1 25 3 view .LVU6
  65 0022 2246     		mov	r2, r4
  66 0024 2021     		movs	r1, #32
  67 0026 2846     		mov	r0, r5
  68 0028 FFF7FEFF 		bl	HAL_GPIO_WritePin
  69              	.LVL3:
  26:Main/Src/system.c ****   printf("Soiya!!\r\n");
  70              		.loc 1 26 3 view .LVU7
  71 002c 0648     		ldr	r0, .L4+12
  72 002e FFF7FEFF 		bl	puts
  73              	.LVL4:
  74              	.L2:
  27:Main/Src/system.c ****   while(1) Blink(100);
  75              		.loc 1 27 3 discriminator 1 view .LVU8
  76              		.loc 1 27 12 discriminator 1 view .LVU9
  77 0032 6420     		movs	r0, #100
  78 0034 FFF7FEFF 		bl	Blink
  79              	.LVL5:
  80              		.loc 1 27 8 discriminator 1 view .LVU10
  81 0038 FBE7     		b	.L2
  82              	.L5:
  83 003a 00BF     		.align	2
  84              	.L4:
  85 003c 00000000 		.word	motpower
  86 0040 00000000 		.word	htim6
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 3


  87 0044 00040240 		.word	1073873920
  88 0048 00000000 		.word	.LC0
  89              		.cfi_endproc
  90              	.LFE252:
  92              		.global	__aeabi_f2d
  93              		.global	__aeabi_dcmplt
  94              		.section	.text.HAL_TIM_PeriodElapsedCallback,"ax",%progbits
  95              		.align	1
  96              		.global	HAL_TIM_PeriodElapsedCallback
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 101              	HAL_TIM_PeriodElapsedCallback:
 102              	.LVL6:
 103              	.LFB253:
  28:Main/Src/system.c **** }
  29:Main/Src/system.c **** 
  30:Main/Src/system.c **** /* HM-SterterKitの場合
  31:Main/Src/system.c ****   モータ制御  1kHz
  32:Main/Src/system.c ****   AD変換      4kHz
  33:Main/Src/system.c ****   センサ取得  2kHz
  34:Main/Src/system.c **** */
  35:Main/Src/system.c **** void HAL_TIM_PeriodElapsedCallback(TIM_HandleTypeDef *htim){
 104              		.loc 1 35 60 view -0
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 0
 107              		@ frame_needed = 0, uses_anonymous_args = 0
 108              		.loc 1 35 60 is_stmt 0 view .LVU12
 109 0000 08B5     		push	{r3, lr}
 110              	.LCFI1:
 111              		.cfi_def_cfa_offset 8
 112              		.cfi_offset 3, -8
 113              		.cfi_offset 14, -4
  36:Main/Src/system.c ****   if(htim == &htim6){
 114              		.loc 1 36 3 is_stmt 1 view .LVU13
 115              		.loc 1 36 5 is_stmt 0 view .LVU14
 116 0002 114B     		ldr	r3, .L12+8
 117 0004 8342     		cmp	r3, r0
 118 0006 00D0     		beq	.L11
 119              	.LVL7:
 120              	.L6:
  37:Main/Src/system.c ****     //5kHz(?!)
  38:Main/Src/system.c ****     TrigWallSens();
  39:Main/Src/system.c ****     GetSpeed();
  40:Main/Src/system.c ****     GetYawDeg();
  41:Main/Src/system.c ****     GetBattVoltage();
  42:Main/Src/system.c **** 
  43:Main/Src/system.c ****     ControlDuty();
  44:Main/Src/system.c ****     
  45:Main/Src/system.c ****     FailSafe();
  46:Main/Src/system.c ****     if(vbat < LOWVOLT) while(1) DoPanic();
  47:Main/Src/system.c ****   }
  48:Main/Src/system.c **** }
 121              		.loc 1 48 1 view .LVU15
 122 0008 08BD     		pop	{r3, pc}
 123              	.LVL8:
 124              	.L11:
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 4


  38:Main/Src/system.c ****     GetSpeed();
 125              		.loc 1 38 5 is_stmt 1 view .LVU16
 126 000a FFF7FEFF 		bl	TrigWallSens
 127              	.LVL9:
  39:Main/Src/system.c ****     GetYawDeg();
 128              		.loc 1 39 5 view .LVU17
 129 000e FFF7FEFF 		bl	GetSpeed
 130              	.LVL10:
  40:Main/Src/system.c ****     GetBattVoltage();
 131              		.loc 1 40 5 view .LVU18
 132 0012 FFF7FEFF 		bl	GetYawDeg
 133              	.LVL11:
  41:Main/Src/system.c **** 
 134              		.loc 1 41 5 view .LVU19
 135 0016 FFF7FEFF 		bl	GetBattVoltage
 136              	.LVL12:
  43:Main/Src/system.c ****     
 137              		.loc 1 43 5 view .LVU20
 138 001a FFF7FEFF 		bl	ControlDuty
 139              	.LVL13:
  45:Main/Src/system.c ****     if(vbat < LOWVOLT) while(1) DoPanic();
 140              		.loc 1 45 5 view .LVU21
 141 001e FFF7FEFF 		bl	FailSafe
 142              	.LVL14:
  46:Main/Src/system.c ****   }
 143              		.loc 1 46 5 view .LVU22
  46:Main/Src/system.c ****   }
 144              		.loc 1 46 13 is_stmt 0 view .LVU23
 145 0022 0A4B     		ldr	r3, .L12+12
 146 0024 1868     		ldr	r0, [r3]	@ float
 147 0026 FFF7FEFF 		bl	__aeabi_f2d
 148              	.LVL15:
  46:Main/Src/system.c ****   }
 149              		.loc 1 46 7 view .LVU24
 150 002a 05A3     		adr	r3, .L12
 151 002c D3E90023 		ldrd	r2, [r3]
 152 0030 FFF7FEFF 		bl	__aeabi_dcmplt
 153              	.LVL16:
 154 0034 0028     		cmp	r0, #0
 155 0036 E7D0     		beq	.L6
  46:Main/Src/system.c ****   }
 156              		.loc 1 46 24 is_stmt 1 discriminator 2 view .LVU25
  46:Main/Src/system.c ****   }
 157              		.loc 1 46 33 discriminator 2 view .LVU26
 158 0038 FFF7FEFF 		bl	DoPanic
 159              	.LVL17:
 160              	.L13:
 161 003c AFF30080 		.align	3
 162              	.L12:
 163 0040 9A999999 		.word	-1717986918
 164 0044 99990940 		.word	1074370969
 165 0048 00000000 		.word	htim6
 166 004c 00000000 		.word	vbat
 167              		.cfi_endproc
 168              	.LFE253:
 170              		.section	.text.init,"ax",%progbits
 171              		.align	1
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 5


 172              		.global	init
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 177              	init:
 178              	.LFB254:
  49:Main/Src/system.c **** 
  50:Main/Src/system.c **** void init(){
 179              		.loc 1 50 12 view -0
 180              		.cfi_startproc
 181              		@ args = 0, pretend = 0, frame = 0
 182              		@ frame_needed = 0, uses_anonymous_args = 0
 183 0000 10B5     		push	{r4, lr}
 184              	.LCFI2:
 185              		.cfi_def_cfa_offset 8
 186              		.cfi_offset 4, -8
 187              		.cfi_offset 14, -4
  51:Main/Src/system.c **** 
  52:Main/Src/system.c ****   InitADCDMA();
 188              		.loc 1 52 3 view .LVU28
 189 0002 FFF7FEFF 		bl	InitADCDMA
 190              	.LVL18:
  53:Main/Src/system.c **** 
  54:Main/Src/system.c ****   //InitEnc
  55:Main/Src/system.c ****   uint8_t errcnt = 0;
 191              		.loc 1 55 3 view .LVU29
  56:Main/Src/system.c ****   AS5047P_Init(&encL, 0);
 192              		.loc 1 56 3 view .LVU30
 193 0006 0021     		movs	r1, #0
 194 0008 2F48     		ldr	r0, .L22
 195 000a FFF7FEFF 		bl	AS5047P_Init
 196              	.LVL19:
  57:Main/Src/system.c ****   AS5047P_Init(&encR, 1);
 197              		.loc 1 57 3 view .LVU31
 198 000e 0121     		movs	r1, #1
 199 0010 2E48     		ldr	r0, .L22+4
 200 0012 FFF7FEFF 		bl	AS5047P_Init
 201              	.LVL20:
  58:Main/Src/system.c ****   while(AS5047P_ErrorPending(&encR) || AS5047P_ErrorPending(&encL)){
 202              		.loc 1 58 3 view .LVU32
  55:Main/Src/system.c ****   AS5047P_Init(&encL, 0);
 203              		.loc 1 55 11 is_stmt 0 view .LVU33
 204 0016 0024     		movs	r4, #0
 205              		.loc 1 58 8 view .LVU34
 206 0018 0EE0     		b	.L15
 207              	.LVL21:
 208              	.L17:
  59:Main/Src/system.c ****     errcnt++;
 209              		.loc 1 59 5 is_stmt 1 view .LVU35
 210              		.loc 1 59 11 is_stmt 0 view .LVU36
 211 001a 0134     		adds	r4, r4, #1
 212              	.LVL22:
 213              		.loc 1 59 11 view .LVU37
 214 001c E4B2     		uxtb	r4, r4
 215              	.LVL23:
  60:Main/Src/system.c ****     if(errcnt >= MAXINITERR) DoPanic();
 216              		.loc 1 60 5 is_stmt 1 view .LVU38
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 6


 217              		.loc 1 60 7 is_stmt 0 view .LVU39
 218 001e 092C     		cmp	r4, #9
 219 0020 4DD8     		bhi	.L20
  61:Main/Src/system.c ****     AS5047P_Init(&encL, 0);
 220              		.loc 1 61 5 is_stmt 1 view .LVU40
 221 0022 0021     		movs	r1, #0
 222 0024 2848     		ldr	r0, .L22
 223 0026 FFF7FEFF 		bl	AS5047P_Init
 224              	.LVL24:
  62:Main/Src/system.c ****     AS5047P_Init(&encR, 1);
 225              		.loc 1 62 5 view .LVU41
 226 002a 0121     		movs	r1, #1
 227 002c 2748     		ldr	r0, .L22+4
 228 002e FFF7FEFF 		bl	AS5047P_Init
 229              	.LVL25:
  63:Main/Src/system.c ****     HAL_Delay(100);
 230              		.loc 1 63 5 view .LVU42
 231 0032 6420     		movs	r0, #100
 232 0034 FFF7FEFF 		bl	HAL_Delay
 233              	.LVL26:
 234              	.L15:
  58:Main/Src/system.c ****     errcnt++;
 235              		.loc 1 58 8 view .LVU43
  58:Main/Src/system.c ****     errcnt++;
 236              		.loc 1 58 9 is_stmt 0 view .LVU44
 237 0038 2448     		ldr	r0, .L22+4
 238 003a FFF7FEFF 		bl	AS5047P_ErrorPending
 239              	.LVL27:
  58:Main/Src/system.c ****     errcnt++;
 240              		.loc 1 58 8 view .LVU45
 241 003e 0028     		cmp	r0, #0
 242 0040 EBD1     		bne	.L17
  58:Main/Src/system.c ****     errcnt++;
 243              		.loc 1 58 40 discriminator 1 view .LVU46
 244 0042 2148     		ldr	r0, .L22
 245 0044 FFF7FEFF 		bl	AS5047P_ErrorPending
 246              	.LVL28:
  58:Main/Src/system.c ****     errcnt++;
 247              		.loc 1 58 37 discriminator 1 view .LVU47
 248 0048 0028     		cmp	r0, #0
 249 004a E6D1     		bne	.L17
  64:Main/Src/system.c ****   }
  65:Main/Src/system.c ****   AS5047P_SetZeroPosition(&encL);
 250              		.loc 1 65 3 is_stmt 1 view .LVU48
 251 004c 1E48     		ldr	r0, .L22
 252 004e FFF7FEFF 		bl	AS5047P_SetZeroPosition
 253              	.LVL29:
  66:Main/Src/system.c ****   AS5047P_SetZeroPosition(&encR);
 254              		.loc 1 66 3 view .LVU49
 255 0052 1E48     		ldr	r0, .L22+4
 256 0054 FFF7FEFF 		bl	AS5047P_SetZeroPosition
 257              	.LVL30:
  67:Main/Src/system.c ****   errcnt = 0;
 258              		.loc 1 67 3 view .LVU50
  68:Main/Src/system.c **** 
  69:Main/Src/system.c ****   //InitIMU
  70:Main/Src/system.c ****   if(IMU_init(&hspi2,CS_IMU_GPIO_Port,CS_IMU_Pin) < 0) DoPanic();
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 7


 259              		.loc 1 70 3 view .LVU51
 260              		.loc 1 70 6 is_stmt 0 view .LVU52
 261 0058 0122     		movs	r2, #1
 262 005a 1D49     		ldr	r1, .L22+8
 263 005c 1D48     		ldr	r0, .L22+12
 264 005e FFF7FEFF 		bl	IMU_init
 265              	.LVL31:
 266              		.loc 1 70 5 view .LVU53
 267 0062 0028     		cmp	r0, #0
 268 0064 2DDB     		blt	.L21
  71:Main/Src/system.c ****   r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 269              		.loc 1 71 3 is_stmt 1 view .LVU54
 270              		.loc 1 71 15 is_stmt 0 view .LVU55
 271 0066 0121     		movs	r1, #1
 272 0068 4FF47A70 		mov	r0, #1000
 273 006c FFF7FEFF 		bl	IMU_SurveyBias
 274              	.LVL32:
 275              		.loc 1 71 13 view .LVU56
 276 0070 194B     		ldr	r3, .L22+16
 277 0072 83ED000A 		vstr.32	s0, [r3]
  72:Main/Src/system.c **** 
  73:Main/Src/system.c ****   //Motor
  74:Main/Src/system.c ****   HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_2);
 278              		.loc 1 74 3 is_stmt 1 view .LVU57
 279 0076 194C     		ldr	r4, .L22+20
 280 0078 0421     		movs	r1, #4
 281 007a 2046     		mov	r0, r4
 282 007c FFF7FEFF 		bl	HAL_TIM_PWM_Start
 283              	.LVL33:
  75:Main/Src/system.c ****   HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_3);
 284              		.loc 1 75 3 view .LVU58
 285 0080 0821     		movs	r1, #8
 286 0082 2046     		mov	r0, r4
 287 0084 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 288              	.LVL34:
  76:Main/Src/system.c ****   HAL_TIM_PWM_Start(&htim1, TIM_CHANNEL_1);
 289              		.loc 1 76 3 view .LVU59
 290 0088 0021     		movs	r1, #0
 291 008a 2046     		mov	r0, r4
 292 008c FFF7FEFF 		bl	HAL_TIM_PWM_Start
 293              	.LVL35:
  77:Main/Src/system.c ****   HAL_TIM_PWM_Start(&htim2, TIM_CHANNEL_3);
 294              		.loc 1 77 3 view .LVU60
 295 0090 0821     		movs	r1, #8
 296 0092 1348     		ldr	r0, .L22+24
 297 0094 FFF7FEFF 		bl	HAL_TIM_PWM_Start
 298              	.LVL36:
  78:Main/Src/system.c ****   SetDutyRatio(0,0);
 299              		.loc 1 78 3 view .LVU61
 300 0098 0021     		movs	r1, #0
 301 009a 0846     		mov	r0, r1
 302 009c FFF7FEFF 		bl	SetDutyRatio
 303              	.LVL37:
  79:Main/Src/system.c ****   HAL_GPIO_WritePin(FAN_GPIO_Port,FAN_Pin,0);
 304              		.loc 1 79 3 view .LVU62
 305 00a0 0022     		movs	r2, #0
 306 00a2 4FF40041 		mov	r1, #32768
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 8


 307 00a6 0F48     		ldr	r0, .L22+28
 308 00a8 FFF7FEFF 		bl	HAL_GPIO_WritePin
 309              	.LVL38:
  80:Main/Src/system.c ****   motpower = 0;
 310              		.loc 1 80 3 view .LVU63
 311              		.loc 1 80 12 is_stmt 0 view .LVU64
 312 00ac 0020     		movs	r0, #0
 313 00ae 0E4B     		ldr	r3, .L22+32
 314 00b0 1870     		strb	r0, [r3]
  81:Main/Src/system.c **** 
  82:Main/Src/system.c ****   //LED
  83:Main/Src/system.c ****   SetLED(0b000);
 315              		.loc 1 83 3 is_stmt 1 view .LVU65
 316 00b2 FFF7FEFF 		bl	SetLED
 317              	.LVL39:
  84:Main/Src/system.c **** 
  85:Main/Src/system.c ****   //Interrupt 1kHz
  86:Main/Src/system.c ****   HAL_TIM_Base_Start_IT(&htim6);
 318              		.loc 1 86 3 view .LVU66
 319 00b6 0D48     		ldr	r0, .L22+36
 320 00b8 FFF7FEFF 		bl	HAL_TIM_Base_Start_IT
 321              	.LVL40:
  87:Main/Src/system.c **** }
 322              		.loc 1 87 1 is_stmt 0 view .LVU67
 323 00bc 10BD     		pop	{r4, pc}
 324              	.LVL41:
 325              	.L20:
  60:Main/Src/system.c ****     AS5047P_Init(&encL, 0);
 326              		.loc 1 60 30 is_stmt 1 discriminator 1 view .LVU68
 327 00be FFF7FEFF 		bl	DoPanic
 328              	.LVL42:
 329              	.L21:
  70:Main/Src/system.c ****   r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 330              		.loc 1 70 56 discriminator 1 view .LVU69
 331 00c2 FFF7FEFF 		bl	DoPanic
 332              	.LVL43:
 333              	.L23:
 334 00c6 00BF     		.align	2
 335              	.L22:
 336 00c8 00000000 		.word	encL
 337 00cc 00000000 		.word	encR
 338 00d0 00040240 		.word	1073873920
 339 00d4 00000000 		.word	hspi2
 340 00d8 00000000 		.word	r_yaw_ref
 341 00dc 00000000 		.word	htim1
 342 00e0 00000000 		.word	htim2
 343 00e4 00000240 		.word	1073872896
 344 00e8 00000000 		.word	motpower
 345 00ec 00000000 		.word	htim6
 346              		.cfi_endproc
 347              	.LFE254:
 349              		.global	__aeabi_dcmpgt
 350              		.section	.rodata.mainmenu.str1.4,"aMS",%progbits,1
 351              		.align	2
 352              	.LC1:
 353 0000 25640925 		.ascii	"%d\011%d\011%d\011%d\011%.2f\015\012\000"
 353      64092564 
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 9


 353      09256409 
 353      252E3266 
 353      0D0A00
 354              		.global	__aeabi_dadd
 355              		.global	__aeabi_d2f
 356              		.global	__aeabi_dsub
 357              		.section	.text.mainmenu,"ax",%progbits
 358              		.align	1
 359              		.global	mainmenu
 360              		.syntax unified
 361              		.thumb
 362              		.thumb_func
 364              	mainmenu:
 365              	.LFB255:
  88:Main/Src/system.c **** 
  89:Main/Src/system.c **** void mainmenu(){
 366              		.loc 1 89 16 view -0
 367              		.cfi_startproc
 368              		@ args = 0, pretend = 0, frame = 0
 369              		@ frame_needed = 0, uses_anonymous_args = 0
 370 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 371              	.LCFI3:
 372              		.cfi_def_cfa_offset 20
 373              		.cfi_offset 4, -20
 374              		.cfi_offset 5, -16
 375              		.cfi_offset 6, -12
 376              		.cfi_offset 7, -8
 377              		.cfi_offset 14, -4
 378 0002 85B0     		sub	sp, sp, #20
 379              	.LCFI4:
 380              		.cfi_def_cfa_offset 40
  90:Main/Src/system.c ****   if(spd > 0.1){
 381              		.loc 1 90 3 view .LVU71
 382              		.loc 1 90 10 is_stmt 0 view .LVU72
 383 0004 664B     		ldr	r3, .L50+24
 384 0006 1868     		ldr	r0, [r3]	@ float
 385 0008 FFF7FEFF 		bl	__aeabi_f2d
 386              	.LVL44:
 387 000c 0446     		mov	r4, r0
 388 000e 0D46     		mov	r5, r1
 389              		.loc 1 90 5 view .LVU73
 390 0010 5DA3     		adr	r3, .L50
 391 0012 D3E90023 		ldrd	r2, [r3]
 392 0016 FFF7FEFF 		bl	__aeabi_dcmpgt
 393              	.LVL45:
 394 001a D0B9     		cbnz	r0, .L46
  91:Main/Src/system.c ****     mode++;
  92:Main/Src/system.c ****     Blink(5);
  93:Main/Src/system.c ****   }else if(spd < -0.1){
 395              		.loc 1 93 9 is_stmt 1 view .LVU74
 396              		.loc 1 93 11 is_stmt 0 view .LVU75
 397 001c 5CA3     		adr	r3, .L50+8
 398 001e D3E90023 		ldrd	r2, [r3]
 399 0022 2046     		mov	r0, r4
 400 0024 2946     		mov	r1, r5
 401 0026 FFF7FEFF 		bl	__aeabi_dcmplt
 402              	.LVL46:
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 10


 403 002a 10BB     		cbnz	r0, .L47
  94:Main/Src/system.c ****     mode--;
  95:Main/Src/system.c ****     Blink(5);
  96:Main/Src/system.c ****   }else if(sensval[0] + sensval[3] >= CONFIRM*2){
 404              		.loc 1 96 9 is_stmt 1 view .LVU76
 405              		.loc 1 96 19 is_stmt 0 view .LVU77
 406 002c 5D4A     		ldr	r2, .L50+28
 407 002e 1388     		ldrh	r3, [r2]
 408              		.loc 1 96 32 view .LVU78
 409 0030 D288     		ldrh	r2, [r2, #6]
 410              		.loc 1 96 23 view .LVU79
 411 0032 1344     		add	r3, r3, r2
 412              		.loc 1 96 11 view .LVU80
 413 0034 B3F57A6F 		cmp	r3, #4000
 414 0038 12DB     		blt	.L27
  97:Main/Src/system.c ****     Blink(2);
 415              		.loc 1 97 5 is_stmt 1 view .LVU81
 416 003a 0220     		movs	r0, #2
 417 003c FFF7FEFF 		bl	Blink
 418              	.LVL47:
  98:Main/Src/system.c ****     switch (mode){
 419              		.loc 1 98 5 view .LVU82
 420 0040 594B     		ldr	r3, .L50+32
 421 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 422 0044 032B     		cmp	r3, #3
 423 0046 00F29A80 		bhi	.L30
 424 004a DFE803F0 		tbb	[pc, r3]
 425              	.L32:
 426 004e 1A       		.byte	(.L35-.L32)/2
 427 004f 2D       		.byte	(.L34-.L32)/2
 428 0050 42       		.byte	(.L33-.L32)/2
 429 0051 8E       		.byte	(.L31-.L32)/2
 430              		.p2align 1
 431              	.L46:
  91:Main/Src/system.c ****     Blink(5);
 432              		.loc 1 91 5 view .LVU83
  91:Main/Src/system.c ****     Blink(5);
 433              		.loc 1 91 9 is_stmt 0 view .LVU84
 434 0052 554A     		ldr	r2, .L50+32
 435 0054 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 436 0056 0133     		adds	r3, r3, #1
 437 0058 1370     		strb	r3, [r2]
  92:Main/Src/system.c ****   }else if(spd < -0.1){
 438              		.loc 1 92 5 is_stmt 1 view .LVU85
 439 005a 0520     		movs	r0, #5
 440 005c FFF7FEFF 		bl	Blink
 441              	.LVL48:
 442              	.L27:
  99:Main/Src/system.c ****       case 0:
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 101:Main/Src/system.c ****         break;
 102:Main/Src/system.c ****       case 1:
 103:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 104:Main/Src/system.c ****         I_spd = I_angvel = 0.;
 105:Main/Src/system.c ****         motpower = 1;
 106:Main/Src/system.c ****         tgt_spd = 0.;
 107:Main/Src/system.c ****         tgt_angvel = 0.;
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 11


 108:Main/Src/system.c ****         while(1);
 109:Main/Src/system.c ****         break;
 110:Main/Src/system.c ****       case 2:
 111:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 112:Main/Src/system.c ****         I_spd = I_angvel = 0.;
 113:Main/Src/system.c ****         SetLED(0b000);
 114:Main/Src/system.c ****         HAL_Delay(500);
 115:Main/Src/system.c ****         motpower = 1;
 116:Main/Src/system.c ****         tgt_angvel = 0.;
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 118:Main/Src/system.c ****           tgt_spd+=0.0025;
 119:Main/Src/system.c ****           HAL_Delay(1);
 120:Main/Src/system.c ****         }
 121:Main/Src/system.c ****         HAL_Delay(1000);
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 123:Main/Src/system.c ****           tgt_spd-=0.0025;
 124:Main/Src/system.c ****           HAL_Delay(1);
 125:Main/Src/system.c ****         }
 126:Main/Src/system.c ****         tgt_spd = 0.;
 127:Main/Src/system.c ****         motpower = 0;
 128:Main/Src/system.c ****         break;
 129:Main/Src/system.c ****       case 3:
 130:Main/Src/system.c ****         HAL_GPIO_TogglePin(FAN_GPIO_Port,FAN_Pin);
 131:Main/Src/system.c ****         HAL_Delay(1000);
 132:Main/Src/system.c ****         break;
 133:Main/Src/system.c ****       default:
 134:Main/Src/system.c ****         DoPanic();
 135:Main/Src/system.c ****         break;
 136:Main/Src/system.c ****     }
 137:Main/Src/system.c ****   }
 138:Main/Src/system.c ****   motpower = 0;
 443              		.loc 1 138 3 view .LVU86
 444              		.loc 1 138 12 is_stmt 0 view .LVU87
 445 0060 524B     		ldr	r3, .L50+36
 446 0062 0022     		movs	r2, #0
 447 0064 1A70     		strb	r2, [r3]
 139:Main/Src/system.c ****   SetLED(mode);
 448              		.loc 1 139 3 is_stmt 1 view .LVU88
 449 0066 504B     		ldr	r3, .L50+32
 450 0068 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 451 006a FFF7FEFF 		bl	SetLED
 452              	.LVL49:
 140:Main/Src/system.c **** }...
 453              		.loc 1 140 1 is_stmt 0 view .LVU89
 454 006e 05B0     		add	sp, sp, #20
 455              	.LCFI5:
 456              		.cfi_remember_state
 457              		.cfi_def_cfa_offset 20
 458              		@ sp needed
 459 0070 F0BD     		pop	{r4, r5, r6, r7, pc}
 460              	.L47:
 461              	.LCFI6:
 462              		.cfi_restore_state
  94:Main/Src/system.c ****     mode--;
 463              		.loc 1 94 5 is_stmt 1 view .LVU90
  94:Main/Src/system.c ****     mode--;
 464              		.loc 1 94 9 is_stmt 0 view .LVU91
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 12


 465 0072 4D4A     		ldr	r2, .L50+32
 466 0074 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 467 0076 013B     		subs	r3, r3, #1
 468 0078 1370     		strb	r3, [r2]
  95:Main/Src/system.c ****     Blink(5);
 469              		.loc 1 95 5 is_stmt 1 view .LVU92
 470 007a 0520     		movs	r0, #5
 471 007c FFF7FEFF 		bl	Blink
 472              	.LVL50:
 473 0080 EEE7     		b	.L27
 474              	.L35:
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 475              		.loc 1 100 9 discriminator 1 view .LVU93
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 476              		.loc 1 100 18 discriminator 1 view .LVU94
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 477              		.loc 1 100 59 is_stmt 0 discriminator 1 view .LVU95
 478 0082 484B     		ldr	r3, .L50+28
 479 0084 1C88     		ldrh	r4, [r3]
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 480              		.loc 1 100 70 discriminator 1 view .LVU96
 481 0086 5D88     		ldrh	r5, [r3, #2]
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 482              		.loc 1 100 81 discriminator 1 view .LVU97
 483 0088 9E88     		ldrh	r6, [r3, #4]
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 484              		.loc 1 100 92 discriminator 1 view .LVU98
 485 008a DF88     		ldrh	r7, [r3, #6]
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 486              		.loc 1 100 18 discriminator 1 view .LVU99
 487 008c 484B     		ldr	r3, .L50+40
 488 008e 1868     		ldr	r0, [r3]	@ float
 489 0090 FFF7FEFF 		bl	__aeabi_f2d
 490              	.LVL51:
 491 0094 CDE90201 		strd	r0, [sp, #8]
 492 0098 0097     		str	r7, [sp]
 493 009a 3346     		mov	r3, r6
 494 009c 2A46     		mov	r2, r5
 495 009e 2146     		mov	r1, r4
 496 00a0 4448     		ldr	r0, .L50+44
 497 00a2 FFF7FEFF 		bl	printf
 498              	.LVL52:
 100:Main/Src/system.c ****         while(1) printf("%d\t%d\t%d\t%d\t%.2f\r\n",sensval[0],sensval[1],sensval[2],sensval[3],vbat
 499              		.loc 1 100 14 is_stmt 1 discriminator 1 view .LVU100
 500 00a6 ECE7     		b	.L35
 501              	.L34:
 101:Main/Src/system.c ****         break;
 502              		.loc 1 101 9 view .LVU101
 103:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 503              		.loc 1 103 9 view .LVU102
 103:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 504              		.loc 1 103 21 is_stmt 0 view .LVU103
 505 00a8 0121     		movs	r1, #1
 506 00aa 4FF47A70 		mov	r0, #1000
 507 00ae FFF7FEFF 		bl	IMU_SurveyBias
 508              	.LVL53:
 103:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 13


 509              		.loc 1 103 19 view .LVU104
 510 00b2 414B     		ldr	r3, .L50+48
 511 00b4 83ED000A 		vstr.32	s0, [r3]
 104:Main/Src/system.c ****         I_spd = I_angvel = 0.;
 512              		.loc 1 104 9 is_stmt 1 view .LVU105
 104:Main/Src/system.c ****         I_spd = I_angvel = 0.;
 513              		.loc 1 104 26 is_stmt 0 view .LVU106
 514 00b8 0023     		movs	r3, #0
 515 00ba 404A     		ldr	r2, .L50+52
 516 00bc 1360     		str	r3, [r2]	@ float
 104:Main/Src/system.c ****         I_spd = I_angvel = 0.;
 517              		.loc 1 104 15 view .LVU107
 518 00be 404A     		ldr	r2, .L50+56
 519 00c0 1360     		str	r3, [r2]	@ float
 105:Main/Src/system.c ****         motpower = 1;
 520              		.loc 1 105 9 is_stmt 1 view .LVU108
 105:Main/Src/system.c ****         motpower = 1;
 521              		.loc 1 105 18 is_stmt 0 view .LVU109
 522 00c2 3A4A     		ldr	r2, .L50+36
 523 00c4 0121     		movs	r1, #1
 524 00c6 1170     		strb	r1, [r2]
 106:Main/Src/system.c ****         tgt_spd = 0.;
 525              		.loc 1 106 9 is_stmt 1 view .LVU110
 106:Main/Src/system.c ****         tgt_spd = 0.;
 526              		.loc 1 106 17 is_stmt 0 view .LVU111
 527 00c8 3E4A     		ldr	r2, .L50+60
 528 00ca 1360     		str	r3, [r2]	@ float
 107:Main/Src/system.c ****         tgt_angvel = 0.;
 529              		.loc 1 107 9 is_stmt 1 view .LVU112
 107:Main/Src/system.c ****         tgt_angvel = 0.;
 530              		.loc 1 107 20 is_stmt 0 view .LVU113
 531 00cc 3E4A     		ldr	r2, .L50+64
 532 00ce 1360     		str	r3, [r2]	@ float
 533              	.L36:
 108:Main/Src/system.c ****         while(1);
 534              		.loc 1 108 9 is_stmt 1 discriminator 1 view .LVU114
 108:Main/Src/system.c ****         while(1);
 535              		.loc 1 108 17 discriminator 1 view .LVU115
 108:Main/Src/system.c ****         while(1);
 536              		.loc 1 108 14 discriminator 1 view .LVU116
 537 00d0 FEE7     		b	.L36
 538              	.L33:
 109:Main/Src/system.c ****         break;
 539              		.loc 1 109 9 view .LVU117
 111:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 540              		.loc 1 111 9 view .LVU118
 111:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 541              		.loc 1 111 21 is_stmt 0 view .LVU119
 542 00d2 0121     		movs	r1, #1
 543 00d4 4FF47A70 		mov	r0, #1000
 544 00d8 FFF7FEFF 		bl	IMU_SurveyBias
 545              	.LVL54:
 111:Main/Src/system.c ****         r_yaw_ref = IMU_SurveyBias(GYROREFTIME,1);
 546              		.loc 1 111 19 view .LVU120
 547 00dc 364B     		ldr	r3, .L50+48
 548 00de 83ED000A 		vstr.32	s0, [r3]
 112:Main/Src/system.c ****         I_spd = I_angvel = 0.;
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 14


 549              		.loc 1 112 9 is_stmt 1 view .LVU121
 112:Main/Src/system.c ****         I_spd = I_angvel = 0.;
 550              		.loc 1 112 26 is_stmt 0 view .LVU122
 551 00e2 0024     		movs	r4, #0
 552 00e4 354B     		ldr	r3, .L50+52
 553 00e6 1C60     		str	r4, [r3]	@ float
 112:Main/Src/system.c ****         I_spd = I_angvel = 0.;
 554              		.loc 1 112 15 view .LVU123
 555 00e8 354B     		ldr	r3, .L50+56
 556 00ea 1C60     		str	r4, [r3]	@ float
 113:Main/Src/system.c ****         SetLED(0b000);
 557              		.loc 1 113 9 is_stmt 1 view .LVU124
 558 00ec 0020     		movs	r0, #0
 559 00ee FFF7FEFF 		bl	SetLED
 560              	.LVL55:
 114:Main/Src/system.c ****         HAL_Delay(500);
 561              		.loc 1 114 9 view .LVU125
 562 00f2 4FF4FA70 		mov	r0, #500
 563 00f6 FFF7FEFF 		bl	HAL_Delay
 564              	.LVL56:
 115:Main/Src/system.c ****         motpower = 1;
 565              		.loc 1 115 9 view .LVU126
 115:Main/Src/system.c ****         motpower = 1;
 566              		.loc 1 115 18 is_stmt 0 view .LVU127
 567 00fa 2C4B     		ldr	r3, .L50+36
 568 00fc 0122     		movs	r2, #1
 569 00fe 1A70     		strb	r2, [r3]
 116:Main/Src/system.c ****         tgt_angvel = 0.;
 570              		.loc 1 116 9 is_stmt 1 view .LVU128
 116:Main/Src/system.c ****         tgt_angvel = 0.;
 571              		.loc 1 116 20 is_stmt 0 view .LVU129
 572 0100 314B     		ldr	r3, .L50+64
 573 0102 1C60     		str	r4, [r3]	@ float
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 574              		.loc 1 117 9 is_stmt 1 view .LVU130
 575              	.LBB2:
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 576              		.loc 1 117 13 view .LVU131
 577              	.LVL57:
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 578              		.loc 1 117 17 is_stmt 0 view .LVU132
 579 0104 0024     		movs	r4, #0
 580              	.LVL58:
 581              	.L37:
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 582              		.loc 1 117 21 is_stmt 1 discriminator 1 view .LVU133
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 583              		.loc 1 117 9 is_stmt 0 discriminator 1 view .LVU134
 584 0106 312C     		cmp	r4, #49
 585 0108 10DC     		bgt	.L48
 118:Main/Src/system.c ****           tgt_spd+=0.0025;
 586              		.loc 1 118 11 is_stmt 1 discriminator 3 view .LVU135
 118:Main/Src/system.c ****           tgt_spd+=0.0025;
 587              		.loc 1 118 18 is_stmt 0 discriminator 3 view .LVU136
 588 010a 2E4D     		ldr	r5, .L50+60
 589 010c 2868     		ldr	r0, [r5]	@ float
 590 010e FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 15


 591              	.LVL59:
 592 0112 21A3     		adr	r3, .L50+16
 593 0114 D3E90023 		ldrd	r2, [r3]
 594 0118 FFF7FEFF 		bl	__aeabi_dadd
 595              	.LVL60:
 596 011c FFF7FEFF 		bl	__aeabi_d2f
 597              	.LVL61:
 598 0120 2860     		str	r0, [r5]	@ float
 119:Main/Src/system.c ****           HAL_Delay(1);
 599              		.loc 1 119 11 is_stmt 1 discriminator 3 view .LVU137
 600 0122 0120     		movs	r0, #1
 601 0124 FFF7FEFF 		bl	HAL_Delay
 602              	.LVL62:
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 603              		.loc 1 117 26 discriminator 3 view .LVU138
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 604              		.loc 1 117 27 is_stmt 0 discriminator 3 view .LVU139
 605 0128 0134     		adds	r4, r4, #1
 606              	.LVL63:
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 607              		.loc 1 117 27 discriminator 3 view .LVU140
 608 012a ECE7     		b	.L37
 609              	.L48:
 117:Main/Src/system.c ****         for(int i=0;i<50;i++){
 610              		.loc 1 117 27 discriminator 3 view .LVU141
 611              	.LBE2:
 121:Main/Src/system.c ****         HAL_Delay(1000);
 612              		.loc 1 121 9 is_stmt 1 view .LVU142
 613 012c 4FF47A70 		mov	r0, #1000
 614 0130 FFF7FEFF 		bl	HAL_Delay
 615              	.LVL64:
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 616              		.loc 1 122 9 view .LVU143
 617              	.LBB3:
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 618              		.loc 1 122 13 view .LVU144
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 619              		.loc 1 122 17 is_stmt 0 view .LVU145
 620 0134 0024     		movs	r4, #0
 621              	.LVL65:
 622              	.L39:
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 623              		.loc 1 122 21 is_stmt 1 discriminator 1 view .LVU146
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 624              		.loc 1 122 9 is_stmt 0 discriminator 1 view .LVU147
 625 0136 312C     		cmp	r4, #49
 626 0138 10DC     		bgt	.L49
 123:Main/Src/system.c ****           tgt_spd-=0.0025;
 627              		.loc 1 123 11 is_stmt 1 discriminator 3 view .LVU148
 123:Main/Src/system.c ****           tgt_spd-=0.0025;
 628              		.loc 1 123 18 is_stmt 0 discriminator 3 view .LVU149
 629 013a 224D     		ldr	r5, .L50+60
 630 013c 2868     		ldr	r0, [r5]	@ float
 631 013e FFF7FEFF 		bl	__aeabi_f2d
 632              	.LVL66:
 633 0142 15A3     		adr	r3, .L50+16
 634 0144 D3E90023 		ldrd	r2, [r3]
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 16


 635 0148 FFF7FEFF 		bl	__aeabi_dsub
 636              	.LVL67:
 637 014c FFF7FEFF 		bl	__aeabi_d2f
 638              	.LVL68:
 639 0150 2860     		str	r0, [r5]	@ float
 124:Main/Src/system.c ****           HAL_Delay(1);
 640              		.loc 1 124 11 is_stmt 1 discriminator 3 view .LVU150
 641 0152 0120     		movs	r0, #1
 642 0154 FFF7FEFF 		bl	HAL_Delay
 643              	.LVL69:
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 644              		.loc 1 122 26 discriminator 3 view .LVU151
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 645              		.loc 1 122 27 is_stmt 0 discriminator 3 view .LVU152
 646 0158 0134     		adds	r4, r4, #1
 647              	.LVL70:
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 648              		.loc 1 122 27 discriminator 3 view .LVU153
 649 015a ECE7     		b	.L39
 650              	.L49:
 122:Main/Src/system.c ****         for(int i=0;i<50;i++){
 651              		.loc 1 122 27 discriminator 3 view .LVU154
 652              	.LBE3:
 126:Main/Src/system.c ****         tgt_spd = 0.;
 653              		.loc 1 126 9 is_stmt 1 view .LVU155
 126:Main/Src/system.c ****         tgt_spd = 0.;
 654              		.loc 1 126 17 is_stmt 0 view .LVU156
 655 015c 194B     		ldr	r3, .L50+60
 656 015e 0022     		movs	r2, #0
 657 0160 1A60     		str	r2, [r3]	@ float
 127:Main/Src/system.c ****         motpower = 0;
 658              		.loc 1 127 9 is_stmt 1 view .LVU157
 127:Main/Src/system.c ****         motpower = 0;
 659              		.loc 1 127 18 is_stmt 0 view .LVU158
 660 0162 124B     		ldr	r3, .L50+36
 661 0164 0022     		movs	r2, #0
 662 0166 1A70     		strb	r2, [r3]
 128:Main/Src/system.c ****         break;
 663              		.loc 1 128 9 is_stmt 1 view .LVU159
 664 0168 7AE7     		b	.L27
 665              	.LVL71:
 666              	.L31:
 130:Main/Src/system.c ****         HAL_GPIO_TogglePin(FAN_GPIO_Port,FAN_Pin);
 667              		.loc 1 130 9 view .LVU160
 668 016a 4FF40041 		mov	r1, #32768
 669 016e 1748     		ldr	r0, .L50+68
 670 0170 FFF7FEFF 		bl	HAL_GPIO_TogglePin
 671              	.LVL72:
 131:Main/Src/system.c ****         HAL_Delay(1000);
 672              		.loc 1 131 9 view .LVU161
 673 0174 4FF47A70 		mov	r0, #1000
 674 0178 FFF7FEFF 		bl	HAL_Delay
 675              	.LVL73:
 132:Main/Src/system.c ****         break;
 676              		.loc 1 132 9 view .LVU162
 677 017c 70E7     		b	.L27
 678              	.L30:
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 17


 134:Main/Src/system.c ****         DoPanic();
 679              		.loc 1 134 9 view .LVU163
 680 017e FFF7FEFF 		bl	DoPanic
 681              	.LVL74:
 682              	.L51:
 683 0182 00BFAFF3 		.align	3
 683      0080
 684              	.L50:
 685 0188 9A999999 		.word	-1717986918
 686 018c 9999B93F 		.word	1069128089
 687 0190 9A999999 		.word	-1717986918
 688 0194 9999B9BF 		.word	-1078355559
 689 0198 7B14AE47 		.word	1202590843
 690 019c E17A643F 		.word	1063549665
 691 01a0 00000000 		.word	spd
 692 01a4 00000000 		.word	sensval
 693 01a8 00000000 		.word	.LANCHOR0
 694 01ac 00000000 		.word	motpower
 695 01b0 00000000 		.word	vbat
 696 01b4 00000000 		.word	.LC1
 697 01b8 00000000 		.word	r_yaw_ref
 698 01bc 00000000 		.word	I_angvel
 699 01c0 00000000 		.word	I_spd
 700 01c4 00000000 		.word	tgt_spd
 701 01c8 00000000 		.word	tgt_angvel
 702 01cc 00000240 		.word	1073872896
 703              		.cfi_endproc
 704              	.LFE255:
 706              		.section	.bss.mode,"aw",%nobits
 707              		.set	.LANCHOR0,. + 0
 710              	mode:
 711 0000 00       		.space	1
 712              		.text
 713              	.Letext0:
 714              		.file 2 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\machine\\_default_type
 715              		.file 3 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\sys\\_stdint.h"
 716              		.file 4 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f412cx.h"
 717              		.file 5 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 718              		.file 6 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 719              		.file 7 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 720              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 721              		.file 9 "Main/Inc/analog.h"
 722              		.file 10 "Core/Inc/tim.h"
 723              		.file 11 "Drivers/AS5047P/Inc/as5047p.h"
 724              		.file 12 "Core/Inc/spi.h"
 725              		.file 13 "Main/Inc/motor.h"
 726              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 727              		.file 15 "Main/Inc/show.h"
 728              		.file 16 "c:\\tools\\gcc-arm-none-eabi-10.3-2021.10\\arm-none-eabi\\include\\stdio.h"
 729              		.file 17 "Drivers/ICM20648/Inc/icm20648.h"
 730              		.file 18 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_gpio.h"
 731              		.file 19 "<built-in>"
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 18


DEFINED SYMBOLS
                            *ABS*:00000000 system.c
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:20     .rodata.DoPanic.str1.4:00000000 $d
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:24     .text.DoPanic:00000000 $t
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:30     .text.DoPanic:00000000 DoPanic
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:85     .text.DoPanic:0000003c $d
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:95     .text.HAL_TIM_PeriodElapsedCallback:00000000 $t
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:101    .text.HAL_TIM_PeriodElapsedCallback:00000000 HAL_TIM_PeriodElapsedCallback
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:163    .text.HAL_TIM_PeriodElapsedCallback:00000040 $d
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:171    .text.init:00000000 $t
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:177    .text.init:00000000 init
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:336    .text.init:000000c8 $d
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:351    .rodata.mainmenu.str1.4:00000000 $d
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:358    .text.mainmenu:00000000 $t
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:364    .text.mainmenu:00000000 mainmenu
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:426    .text.mainmenu:0000004e $d
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:430    .text.mainmenu:00000052 $t
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:685    .text.mainmenu:00000188 $d
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:710    .bss.mode:00000000 mode
C:\Users\hide\AppData\Local\Temp\cc0avdIW.s:711    .bss.mode:00000000 $d

UNDEFINED SYMBOLS
SetDutyRatio
HAL_TIM_Base_Stop_IT
HAL_GPIO_WritePin
puts
Blink
motpower
htim6
__aeabi_f2d
__aeabi_dcmplt
TrigWallSens
GetSpeed
GetYawDeg
GetBattVoltage
ControlDuty
FailSafe
vbat
InitADCDMA
AS5047P_Init
HAL_Delay
AS5047P_ErrorPending
AS5047P_SetZeroPosition
IMU_init
IMU_SurveyBias
HAL_TIM_PWM_Start
SetLED
HAL_TIM_Base_Start_IT
encL
encR
hspi2
r_yaw_ref
htim1
htim2
__aeabi_dcmpgt
__aeabi_dadd
__aeabi_d2f
ARM GAS  C:\Users\hide\AppData\Local\Temp\cc0avdIW.s 			page 19


__aeabi_dsub
printf
HAL_GPIO_TogglePin
spd
sensval
I_angvel
I_spd
tgt_spd
tgt_angvel
